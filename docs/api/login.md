# 🔐 用户登录 API 文档

## 🧾 基本信息

- **接口名称**：用户登录
- **接口版本**：v1
- **请求路径**：`POST /api/v1/login`
- **请求方法**：`POST`
- **功能说明**：用户使用用户名和密码登录系统，验证成功后返回用于访问其他接口的访问令牌（JWT）。

---

## 📤 请求说明

### 请求头 Headers

| 参数名         | 类型   | 必填 | 示例值              | 说明                |
|----------------|--------|------|---------------------|---------------------|
| Content-Type   | string | ✅   | `application/json`  | 请求体编码格式       |
| X-Client-From  | string | ❌   | `web`, `mobile`     | 可选，标识请求来源    |

---

### 请求体 JSON 参数

| 参数名   | 类型   | 是否必填 | 说明                         |
|----------|--------|----------|------------------------------|
| username | string | ✅        | 用户名（邮箱/手机号/用户名） |
| password | string | ✅        | 登录密码（明文或加密）      |

#### 请求示例

```json
{
  "username": "admin",
  "password": "123456"
}
```

---

## 📥 响应说明

### ✅ 成功响应

| 字段名 | 类型   | 说明                     |
|--------|--------|--------------------------|
| token  | string | 登录成功返回的访问令牌（JWT） |
| user   | object | 登录用户的基本信息           |

#### 响应示例

```json
{
  "token": "eyJhbGciOiJIUzI1NiIsInR5...",
  "user": {
    "id": 1,
    "username": "admin",
    "email": "admin@example.com",
    "role": "admin"
  }
}
```

---

### ❌ 失败响应

| 状态码 | 错误码      | 含义                         |
|--------|-------------|------------------------------|
| 400    | INVALID_REQ | 请求格式错误或参数缺失         |
| 401    | AUTH_FAILED | 用户名或密码错误               |
| 429    | TOO_MANY    | 登录失败次数过多，请稍后再试    |

#### 失败响应示例

```json
{
  "err": "AUTH_FAILED",
  "msg": "用户名或密码错误"
}
```